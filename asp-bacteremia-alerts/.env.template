# =============================================================================
# AEGIS Bacteremia Alerts Configuration
# =============================================================================

# -----------------------------------------------------------------------------
# FHIR Server
# -----------------------------------------------------------------------------

# Local development (HAPI FHIR)
FHIR_BASE_URL=http://localhost:8081/fhir

# Epic production (uncomment and fill in when you get credentials)
# EPIC_FHIR_BASE_URL=https://epicfhir.cchmc.org/api/FHIR/R4
# EPIC_CLIENT_ID=your-client-id
# EPIC_PRIVATE_KEY_PATH=./keys/epic_private_key.pem

# -----------------------------------------------------------------------------
# Email Alerts (SMTP)
# -----------------------------------------------------------------------------

# SMTP server settings
# SMTP_SERVER=smtp.cchmc.org
# SMTP_PORT=587
# SMTP_USERNAME=
# SMTP_PASSWORD=

# Email addresses (comma-separated for multiple recipients)
# ALERT_EMAIL_FROM=asp-bacteremia-alerts@cchmc.org
# ALERT_EMAIL_TO=asp-team@cchmc.org,pharmacist@cchmc.org

# -----------------------------------------------------------------------------
# Microsoft Teams Alerts (Workflows Webhook)
# -----------------------------------------------------------------------------

# To set up a Workflows webhook (replaces deprecated Incoming Webhook):
# 1. In your Teams channel, click ... > Workflows
# 2. Search "Post to a channel when a webhook request is received"
# 3. Select team/channel and click "Add workflow"
# 4. Copy the webhook URL here
#
# Test with: python -c "from src.alerters.teams import test_webhook; test_webhook('YOUR_URL')"
#
# TEAMS_WEBHOOK_URL=https://prod-XX.westus.logic.azure.com:443/workflows/...

# -----------------------------------------------------------------------------
# Alert Dashboard & Storage
# -----------------------------------------------------------------------------

# Dashboard URL (for action buttons in Teams alerts)
# Development:
# DASHBOARD_BASE_URL=http://localhost:5000
# Production:
DASHBOARD_BASE_URL=https://aegis-asp.com

# API key for dashboard authentication (set a random string in production)
# DASHBOARD_API_KEY=your-secret-api-key-here

# Path to SQLite database for alert storage
# Defaults to ~/.aegis/alerts.db if not set
# ALERT_DB_PATH=/path/to/alerts.db

# -----------------------------------------------------------------------------
# Monitoring
# -----------------------------------------------------------------------------

# How often to poll for new blood cultures (seconds)
POLL_INTERVAL=300
